/* style.css - קוד מעודכן ומלא (כולל KPI ו-Difficulty Badges) */
:root{
  /* צבעי ליבה של המותג LANDA / טק-מוד */
  --bg: #04080F; /* כמעט שחור, עמוק יותר */
  --bg2: #08101C; /* רקע עדין יותר */
  --panel: rgba(18,24,34,.6); 
  --glass: rgba(22,30,45,.55);
  
  --text:#e8f0ff; 
  --muted:#9bb0d0; 
  --border:rgba(255,255,255,.12); /* קו הפרדה חד יותר */
  
  /* צבעי אקצנט וסטטוס משופרים */
  --accent:#00aeef; 
  --accent2:#3bd0ff; 
  --ok:#4ADE80;      /* ירוק מודגש */
  --err:#FF4967;     /* אדום ניאוני */
  --warn:#FFC107;    /* צהוב אזהרה */
  
  --cyan-glow: 0 0 6px var(--accent), 0 0 12px rgba(0,174,239,0.4); /* אפקט זוהר */
  --header:56px; 
  --aside-w:260px; 
  --radius:10px; 
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--text);
  font:14px/1.45 system-ui,-apple-system,Segoe UI,Inter,Roboto,Helvetica,Arial;
  background:
    radial-gradient(1200px 600px at 10% -10%, rgba(0,174,239,.18), transparent 60%),
    radial-gradient(1000px 500px at 110% 10%, rgba(59,208,255,.15), transparent 55%),
    linear-gradient(180deg, var(--bg), var(--bg2) 60%, #0a0f15);
  animation: breathe 14s ease-in-out infinite;
  overflow:hidden;
}

/* Particles Canvas */
#particles{position:fixed;top:0;left:0;z-index:-1;opacity:.6}

/* General Layout */
#loginPage{display:flex;justify-content:center;align-items:center;height:100vh}
.main-layout{display:grid;grid-template-columns:var(--aside-w) 1fr;min-height:100vh}
.content{
  padding:var(--header) 20px 20px; 
  overflow-y:auto; 
  height:100vh;
}
.hidden{display:none!important}
.page{max-width:1200px;margin:0 auto;width:100%;}
.panel{
  background:var(--panel); 
  border:1px solid var(--border);
  border-radius:var(--radius); 
  padding:20px; 
  margin-bottom:20px;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}
.center{text-align:center;}
.inline{display:flex;gap:12px;align-items:center}
.fields-wrap{display:flex;flex-wrap:wrap;gap:16px;margin-top:10px}
.fields-wrap > .full{width:100%}
.fields-wrap > .half{flex:1 1 calc(50% - 8px)}

/* Typography */
h1,h2,h3{color:var(--text); font-weight:600;}
.title{font-size:16px; font-weight:600; color:var(--text);}
.meta{font-size:12px; color:var(--muted); margin-top:2px;}
.label{display:block; font-size:12px; color:var(--muted); margin-bottom:4px; font-weight:500;}
.label.required::after{content:'*'; color:var(--err); margin-left:3px;}
.help{font-size:12px;color:var(--muted)}
.kv{font-size:14px} .kv .k{font-weight:600;color:var(--muted);margin-right:4px;}

/* Inputs & Buttons */
.input{
  width:100%; 
  background:var(--bg2); 
  border:1px solid var(--border); 
  color:var(--text); 
  padding:8px 12px; 
  border-radius:6px;
  transition:border-color 0.2s, box-shadow 0.2s;
  font-size:14px;
}
.input:focus{outline:none; border-color:var(--accent); box-shadow:0 0 0 2px rgba(0,174,239,.3);}
select.input{appearance:none; padding-right:30px; background:var(--bg2) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%239bb0d0' viewBox='0 0 24 24'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E") no-repeat right 10px center; background-size:14px;}
textarea.input{min-height:100px; resize:vertical;}

.btn{
  background:var(--bg2); 
  color:var(--text); 
  border:1px solid var(--border); 
  padding:8px 16px; 
  border-radius:6px; 
  cursor:pointer;
  transition:background 0.2s, transform 0.1s, box-shadow 0.3s;
  font-size:14px;
}
.btn:hover{background:var(--bg); border-color:var(--accent);}
.btn.primary{
  background:var(--accent); 
  border-color:var(--accent); 
  color:var(--bg); 
  font-weight:600;
}
.btn.primary:hover, .btn.primary:focus {
  background:var(--accent2);
  border-color:var(--accent2);
  box-shadow: var(--cyan-glow); /* הזוהר המבוקש */
  transform: translateY(-1px);
}
.btn.danger{background:var(--err); border-color:var(--err); color:var(--text);}
.btn.danger:hover{background:rgba(255,73,103,.8); border-color:rgba(255,73,103,.8);}
.btn.small{padding:5px 10px; font-size:12px;}
.btn.ghost{background:transparent; border-color:transparent; color:var(--accent);}
.btn.ghost:hover{color:var(--accent2); background:rgba(0,174,239,.1);}

/* Navigation */
.nav{
  background:var(--bg); 
  position:fixed; 
  top:0; 
  left:0; 
  bottom:0; 
  width:var(--aside-w); 
  padding:20px 10px; 
  overflow-y:auto;
}
.nav .item{
  display:flex; 
  align-items:center; 
  gap:10px; 
  color:var(--muted); 
  padding:10px 15px; 
  border-radius:var(--radius); 
  cursor:pointer;
  transition:background 0.2s, color 0.2s;
}
.nav .item:hover{background:rgba(255,255,255,.05); color:var(--text);}
.nav .item.active{background:rgba(0,174,239,.15); color:var(--accent); font-weight:600;}
.nav .header{font-weight:700; color:var(--accent); margin:0 0 10px 15px; font-size:16px;}
.nav .separator{height:1px; background:var(--border); margin:15px 0;}

/* Floating Action Button (FAB) */
#fabNew{
  position:fixed; 
  bottom:30px; 
  right:30px; 
  width:50px; 
  height:50px; 
  border-radius:50%; 
  justify-content:center; 
  align-items:center; 
  font-size:24px; 
  line-height:1; 
  z-index:10;
}

/* Toast Messages */
.toast-wrap{position:fixed; top:20px; right:20px; z-index:100; display:flex; flex-direction:column; gap:8px;}
.toast{
  background:var(--panel); 
  color:var(--text); 
  padding:10px 15px; 
  border-radius:6px; 
  min-width:200px;
  box-shadow:0 4px 12px rgba(0,0,0,.3);
  opacity:1; 
  transition:opacity 0.25s ease-out;
  border-left:4px solid var(--accent);
}
.toast.ok{border-left-color:var(--ok);}
.toast.warn{border-left-color:var(--warn);}
.toast.err{border-left-color:var(--err);}

/* Case Cards & List */
#cards{display:grid; gap:12px;}
.case-card{
  background:var(--panel); 
  border-radius:var(--radius); 
  padding:15px 18px; 
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  position:relative;
  overflow:hidden;
  transition: all 0.2s ease-in-out;
  border: 1px solid var(--border);
}
.case-card:hover{
  border-color: var(--accent);
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(0,174,239,0.1);
}
.case-card .stripe{position:absolute; top:0; left:0; bottom:0; width:4px; background:var(--accent);}
.case-card .title{font-size:16px; margin-bottom:2px;}
.case-card .actions{display:flex; gap:8px; align-items:center;}

/* Dashboard Page (KPIs and Search) */
#page-dashboard .main-search-wrap{
  display:flex;
  flex-direction:column;
  align-items:center;
  padding: 40px 20px;
  background-color: var(--panel);
  border-radius: var(--radius);
  border: 1px solid var(--border);
  box-shadow: 0 0 20px rgba(0,0,0,0.5);
  margin-top:20px;
}
#mainSearch{
  font-size: 20px;
  padding: 12px 20px;
  min-width: 80%;
  max-width: 600px;
  transition: box-shadow 0.3s ease-in-out, border-color 0.3s;
}
#mainSearch:focus{
  border-color: var(--accent);
  box-shadow: var(--cyan-glow); /* הזוהר ב-Focus */
}

.kpi-row{
  display: flex;
  gap: 20px;
  margin-top: 20px;
  flex-wrap: wrap;
  justify-content: center;
}
.kpi-widget{
  background: rgba(0,0,0,0.3);
  padding: 15px 20px;
  border-radius: var(--radius);
  text-align: center;
  border-bottom: 2px solid var(--accent);
  min-width: 150px;
}
.kpi-widget .value{
  font-size: 28px;
  color: var(--accent2);
  font-weight: 600;
  display: block;
}

/* Difficulty Badges */
.difficulty-badge {
  display: inline-block;
  padding: 3px 8px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
.diff-easy { color: var(--ok); background: rgba(74, 222, 128, 0.15); border: 1px solid rgba(74, 222, 128, 0.3); }
.diff-medium { color: var(--warn); background: rgba(255, 193, 7, 0.15); border: 1px solid rgba(255, 193, 7, 0.3); }
.diff-hard { color: var(--err); background: rgba(255, 73, 103, 0.15); border: 1px solid rgba(255, 73, 103, 0.3); }

/* RCA Wizard UI */
.rca-issue-card {
  padding: 15px;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: var(--bg2);
  flex: 1 1 200px;
}
/* סגנונות מודאל בסיסיים */
#modalBack{
  position: fixed; top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0, 0, 0, 0.8); z-index: 1000;
  display: flex; justify-content: center; align-items: center;
}
.modal-content{
  background: var(--bg2); border-radius: var(--radius);
  max-width: 600px; width: 90%; max-height: 90vh; overflow-y: auto;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
}
.modal-header{
  padding: 15px 20px; border-bottom: 1px solid var(--border);
  display: flex; justify-content: space-between; align-items: center;
  background: var(--bg);
}
.modal-footer{
  padding: 10px 20px; border-top: 1px solid var(--border);
  text-align: right;
}
/* סגנונות Fishbone RCA */
#fbHost{
  max-width: 1000px;
  margin: 0 auto;
}
#fbRoot{
  margin-top: 20px;
  background: var(--panel);
  padding: 20px;
  border-radius: var(--radius);
  border: 1px solid var(--border);
}
#fbRoot .progress{
  display:flex;gap:8px;flex-wrap:wrap;
  margin-bottom:15px;border-bottom:1px solid var(--border);padding-bottom:15px;
}
#fbRoot .progress-step{
  flex-grow:1;height:4px;background:var(--bg2);
  border-radius:2px;
}
#fbRoot .progress-step.active{
  background:var(--accent);
}
#fbRoot .subsystem-list{
  display:flex;gap:12px;flex-wrap:wrap;
  margin-top:15px;
}
.subsystem-card{
  flex:1 1 200px;
  padding:12px 15px;
  border-radius:var(--radius);
  background:var(--bg);
  border:1px solid var(--border);
  transition:border-color 0.2s;
  cursor:pointer;
}
.subsystem-card:hover{
  border-color:var(--accent);
}
.rca-badge{
  font-size:10px;padding:2px 6px;border-radius:4px;
  font-weight:600;display:inline-block;border:1px solid transparent;
}
.rca-badge-ok{
  border-color:rgba(74,222,128,.7);
  color:#bbf7d0;
  background:rgba(22,163,74,.18);
}
.rca-badge-warn{
  border-color:rgba(234,179,8,.7);
  color:#fef3c7;
  background:rgba(234,179,8,.18);
}
.rca-badge-bad{
  border-color:rgba(239,68,68,.8);
  color:#fecaca;
  background:rgba(239,68,68,.2);
}
.rca-toggle-row{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  margin-top:6px;
}
.rca-note{
  font-size:12.5px;
  color:var(--muted);
  margin-top:6px;
}
.rca-modal-footer{
  padding:10px 18px 14px;
  border-top:1px solid var(--border);
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
}
.rca-footer-left,
.rca-footer-right{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}
