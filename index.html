<!-- LandaQuantum V13.3 Refined | Based on V13 original design -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Landa SF Cases Management</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="Landa.png">
  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- ===== LOGIN SCREEN ===== -->
<section id="loginScreen" class="login-wrap">
  <div class="bg-aurora"></div>
  <div class="particles" id="particles"></div>

  <div class="login-card">
    <div class="brand">
      <img src="Landa.png" alt="Landa">
      <h2>Landa SF Cases Management</h2>
    </div>
    <label class="label">User</label>
    <input class="input" id="authUser" value="Expert">

    <label class="label">Password</label>
    <input class="input" id="authPass" type="password" placeholder="Password">

    <div class="help">Demo: <b>Expert</b> / <b>Landa123456</b></div>

    <div class="login-actions">
      <button class="btn primary" id="btnLogin">Sign In</button>
      <button class="btn ghost" id="btnFill">Fill</button>
    </div>
  </div>
</section>

<!-- ===== APP WRAPPER ===== -->
<div id="appRoot" class="hidden">
  <header class="header">
    <div class="logo-wrap" id="goHome">
      <img src="Landa.png" alt="Landa">
      <h1>Landa SF Cases Management</h1>
    </div>
  </header>

  <div class="layout">
    <aside class="aside">
      <nav class="nav">
        <a class="item active" data-route="dashboard" href="#">Dashboard</a>
        <a class="item" data-route="create" href="#">Create Case</a>
        <a class="item" data-route="cases" href="#">All Cases <span class="badge" id="casesCount">0</span></a>
        <a class="item" data-route="settings" href="#">Settings</a>
      </nav>
    </aside>

    <main class="main">
      <!-- ===== DASHBOARD ===== -->
      <section id="page-dashboard" class="page">
        <div class="grid cols-3">
          <div class="panel kpi">
            <div class="kpi-title">Total Cases</div>
            <div id="kpiTotal" class="kpi-num">0</div>
          </div>
          <div class="panel kpi">
            <div class="kpi-title">With Attachments</div>
            <div id="kpiFiles" class="kpi-num">0</div>
          </div>
          <div class="panel kpi">
            <div class="kpi-title">Last Updated</div>
            <div id="kpiUpdated" class="kpi-small">—</div>
          </div>
        </div>

        <div class="panel quick">
          <button class="btn" onclick="go('create')">+ New Case</button>
          <button class="btn" onclick="go('cases')">View All</button>
          <button class="btn" onclick="exportCSV()">Export CSV</button>
        </div>
      </section>

      <!-- ===== CREATE CASE ===== -->
      <section id="page-create" class="page hidden">
        <div class="panel">
          <h2 class="title">Create New Case</h2>
          <form id="caseForm" onsubmit="saveCase(event)">
            <div class="grid cols-2">
              <!-- Identification -->
              <div>
                <label class="label">SF Case *</label>
                <input class="input" id="sfCase">
              </div>
              <div>
                <label class="label"><input type="checkbox" id="tfsToggle"> Add TFS Number</label>
                <input class="input hidden" id="tfsNumber" placeholder="TFS…">
              </div>

              <div class="full"><hr class="sep"></div>

              <!-- Machine -->
              <div class="full">
                <label class="label">Machine Type *</label>
                <div class="toggle" id="typeToggle">
                  <span class="tbtn active" data-type="Simplex">Simplex</span>
                  <span class="tbtn" data-type="Duplex">Duplex</span>
                </div>
                <input type="hidden" id="machineType" value="Simplex">
              </div>

              <div>
                <label class="label">Machine Number *</label>
                <select class="select" id="machineNumber"></select>
              </div>
              <div>
                <label class="label">Software Version</label>
                <input class="input" id="softwareVersion" placeholder="4.2.11">
              </div>
              <div>
                <label class="label">System *</label>
                <select class="select" id="system"></select>
              </div>
              <div>
                <label class="label">Sub-System</label>
                <select class="select" id="subSystem"></select>
              </div>

              <div class="full"><hr class="sep"></div>

              <!-- Problem -->
              <div class="full">
                <label class="label">Issue Summary *</label>
                <input class="input" id="issueSummary" placeholder="One line summary">
              </div>
              <div>
                <label class="label">Symptoms / Error Messages</label>
                <input class="input" id="symptoms" placeholder="codes, messages…">
              </div>
              <div>
                <label class="label">Frequency</label>
                <select id="frequency" class="select">
                  <option>Once</option><option>Intermittent</option><option>Frequent</option><option>Constant</option>
                </select>
              </div>
              <div class="full">
                <label class="label">Environment / Conditions</label>
                <input id="environment" class="input" placeholder="paper/media, temp, job type…">
              </div>

              <div class="full"><hr class="sep"></div>

              <!-- Diagnostics -->
              <div class="full">
                <label class="label">Reproduction Steps</label>
                <textarea id="repro" class="textarea" placeholder="Step 1, Step 2, …"></textarea>
              </div>
              <div class="full">
                <label class="label">Root Cause (identified)</label>
                <textarea id="rootCause" class="textarea"></textarea>
              </div>
              <div class="full">
                <label class="label">Analysis Notes</label>
                <textarea id="analysis" class="textarea"></textarea>
              </div>

              <div class="full"><hr class="sep"></div>

              <!-- Solution -->
              <div class="full">
                <label class="label">Troubleshooting Steps</label>
                <div id="tsList"></div>
                <button class="btn small" type="button" onclick="addTS()">+ Add Step</button>
              </div>
              <div class="full">
                <label class="label">Parts / Service Actions</label>
                <textarea id="parts" class="textarea" style="min-height:56px" placeholder="Part + action…"></textarea>
              </div>
              <div class="full">
                <label class="label">Solution Implemented *</label>
                <textarea id="solution" class="textarea" style="min-height:56px"></textarea>
              </div>
              <div class="full">
                <label class="label">Verification Method</label>
                <input id="verification" class="input" placeholder="How did we verify the fix?">
              </div>

              <div class="full"><hr class="sep"></div>

              <!-- Files -->
              <div class="full">
                <label class="label">Attachments (multiple)</label>
                <div id="filesWrap"></div>
                <button class="btn small" type="button" onclick="addFileRow()">+ Add another file</button>
                <div class="help">Accepted: pdf, doc, xls, png, jpg, jpeg, zip</div>
              </div>

              <div class="inline full" style="margin-top:6px">
                <button class="btn primary" type="submit">Save Case</button>
                <button class="btn ghost" type="button" onclick="go('cases')">View All</button>
              </div>
            </div>
          </form>
        </div>
      </section>

      <!-- ===== CASES PAGE ===== -->
      <section id="page-cases" class="page hidden">
        <div class="panel">
          <div class="cases-head">
            <h2 class="title">All Cases</h2>
            <div class="actions-inline">
              <input id="searchBox" class="input" placeholder="Search (Issue / Machine / System)">
              <button class="btn" onclick="renderCases()">Apply</button>
              <button class="btn" onclick="exportCSV()">Export CSV</button>
            </div>
          </div>
        </div>
        <div id="casesList" class="grid list"></div>
      </section>

      <!-- ===== SETTINGS PAGE ===== -->
      <section id="page-settings" class="page hidden">
        <div class="panel">
          <h2 class="title">Settings</h2>
          <div class="help">Coming soon…</div>
        </div>
      </section>
    </main>
  </div>
</div>

<!-- ===== MODAL ===== -->
<div class="modal-back" id="modalBack">
  <div class="modal" id="modal">
    <div class="modal-head">
      <div class="title" id="modalTitle">Case</div>
      <button class="btn small danger" onclick="closeModal()">Close</button>
    </div>
    <div id="modalBody" class="modal-body"></div>
  </div>
</div>

<!-- ===== TOASTS ===== -->
<div class="toast-wrap" id="toasts"></div>

<script src="script.js"></script>
</body>
</html>
