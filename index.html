<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Landa Quantum ‚Äì Troubleshoot Suite (V19.0-Structured)</title>
<link rel="icon" type="image/svg+xml"
  href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Crect x='2' y='2' width='36' height='36' rx='8' fill='%23000000' opacity='0.85' stroke='%23ffffff10'/%3E%3Ccircle cx='20' cy='20' r='8' fill='%2300aeef'/%3E%3C/svg%3E">
<link rel="stylesheet" href="style.css">
</head>

<body>
<canvas id="particles"></canvas>
<div class="toast-wrap" id="toasts"></div>

<section id="loginPage">
  <div class="auth panel center">
    <div class="logo">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 360 110">
        <defs>
          <linearGradient id="lg" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#00aeef"/>
            <stop offset="100%" stop-color="#3bd0ff"/>
          </linearGradient>
        </defs>
        <path fill="url(#lg)" d="M47.7,11.3h28.1l-14.1,28.1L47.7,11.3z M81.8,11.3h28.1L95.8,39.4L81.8,11.3z M116.2,11.3h28.1L130.2,39.4L116.2,11.3z M30.8,45.8l17.4,34.8l17.4-34.8h-34.8z M82.8,45.8l17.4,34.8l17.4-34.8H82.8z M125.8,45.8l17.4,34.8l17.4-34.8H125.8z M170.8,45.8l17.4,34.8l17.4-34.8H170.8z M213.8,45.8l17.4,34.8l17.4-34.8H213.8z M256.8,45.8l17.4,34.8l17.4-34.8H256.8z M299.8,45.8l17.4,34.8l17.4-34.8H299.8z" transform="scale(0.8, 0.8) translate(30, 20)"/>
        <text x="170" y="90" fill="#e8f0ff" font-size="28" font-family="sans-serif" text-anchor="middle">TROUBLESHOOTING SUITE</text>
      </svg>
    </div>
    <form id="loginForm">
      <label class="label v13">Enter User ID</label>
      <input class="input v13" placeholder="FSE-XXXXX" required>
      <label class="label v13">Password</label>
      <input class="input v13" type="password" required>
      <button class="btn primary full" type="submit">LOGIN</button>
    </form>
  </div>
</section>

<div class="main-layout" id="app" style="display:none">
  <aside class="nav">
    <div class="header">LANDA Quantum</div>
    <a class="item active" data-route="dashboard" onclick="go('dashboard')">üè† Dashboard</a>
    <a class="item" data-route="diagnosis" onclick="go('diagnosis')">üî¨ RCA Wizard</a>
    <div class="separator"></div>
    <a class="item" data-route="cases" onclick="go('cases')">üìÇ All Cases</a>
    <a class="item" data-route="create" onclick="go('create')">‚úçÔ∏è New Case</a>
    <div class="separator"></div>
    <a class="item" data-route="settings" onclick="go('settings')">‚öôÔ∏è Settings</a>
    <a class="item danger" onclick="logout()">üëã Logout</a>
  </aside>

  <div class="content">
    <main>
      
      <section id="page-dashboard" class="page">
        <div class="panel">
          
          <div class="main-search-wrap">
            <h1 style="color:var(--accent);margin-top:0">LANDA AI-DIAGNOSTIC SUITE</h1>
            <p style="color:var(--muted)">Enter Symptom, Error Code, or Case ID to analyze.</p>
            <input id="mainSearch" class="input v13" placeholder="What is the problem? (e.g. SetOff, Err-302, Print Quality Issue)">
            
            <div style="margin-top:15px">
              <button class="btn primary" onclick="startSearch()">Analyze & Search</button>
              <button class="btn" onclick="go('diagnosis')">Start RCA Wizard</button>
            </div>
          </div>

          <div class="kpi-row">
            <div class="kpi-widget">Total Cases<span class="value" id="kpiTotal">0</span></div>
            <div class="kpi-widget">Avg. Resolution (Days)<span class="value" id="kpiAvgTime">‚Äî</span></div>
            <div class="kpi-widget">Success Rate<span class="value" id="kpiSuccessRate">‚Äî</span></div>
            <div class="kpi-widget">Last Update<span class="value" id="kpiUpdated">‚Äî</span></div>
          </div>

        </div>
      </section>

      <section id="page-create" class="page hidden">
        <div class="panel">
          <h2 style="margin-top:0">1. New Case Submission (Structured Data)</h2>
          <p style="color:var(--muted)">Ensure all required fields are accurately filled. Free text is minimal to ensure reliable AI future analysis.</p>

          <form id="createCaseForm">
            <div class="fields-wrap">
              
              <div class="half">
                <label class="label v13">SalesForce Case ID</label>
                <input id="sfCase" class="input v13 field-troubles" placeholder="SF-XXXXXX">
              </div>
              <div class="half">
                <label class="label v13">Model / Machine Type</label>
                <input id="model" class="input v13 field-troubles" placeholder="S10P / W10">
              </div>

              <div class="half">
                <label class="label v13 required">1. System</label>
                <select id="system" class="input v13 field-troubles" required></select>
              </div>
              <div class="half">
                <label class="label v13 required">2. Subsystem</label>
                <select id="subSystem" class="input v13 field-troubles" required disabled>
                    <option value="">Select a System first</option>
                </select>
              </div>
              <div class="full">
                <label class="label v13 required">3. Issue Code (Main Problem Category)</label>
                <select id="issueCode" class="input v13 field-troubles" required></select>
              </div>
              
              <div class="full">
                <label class="label v13 required">Issue Summary (Symptom)</label>
                <input id="issueSummary" class="input v13 field-troubles" placeholder="e.g., SetOff on coated paper, 50% coverage." required>
              </div>
              <div class="full">
                <label class="label v13 required">Root Cause (Solution Focus)</label>
                <textarea id="rootCause" class="input v13 field-troubles" placeholder="e.g., Clogged filter on Ink Pump X leading to pressure drop." required></textarea>
              </div>
              <div class="full">
                <label class="label v13 required">Detailed Solution Steps</label>
                <textarea id="solution" class="input v13 field-troubles" placeholder="1. Replaced Filter. 2. Performed Pump Calibration. 3. Re-ran Test Print." required></textarea>
              </div>

              <div class="full">
                <label class="label v13 required">4. Solution Difficulty</label>
                <select id="solutionDifficulty" class="input v13 field-troubles" required></select>
              </div>

              <div class="full">
                <label class="label v13">Verification</label>
                <input id="verification" class="input v13 field-troubles" placeholder="How did we verify the fix?">
              </div>
              <div class="full">
                <label class="label v13">Notes</label>
                <textarea id="notes" class="input v13 field-troubles" placeholder="Anything noteworthy for future cases"></textarea>
              </div>

              <div class="full">
                <label class="label v13">Attachments</label>
                <div id="filesWrap"></div>
                <button class="btn small" type="button" onclick="addFileRow()">+ Add another file</button>
              </div>

              <div class="inline full" style="margin-top:6px">
                <button class="btn primary" type="submit">Save Case</button>
                <button class="btn ghost" type="button" onclick="go('cases')">View All</button>
              </div>
            </div>
          </form>
        </div>
      </section>

      <section id="page-cases" class="page hidden"></section>
      <section id="page-diagnosis" class="page hidden"></section>
      <section id="page-settings" class="page hidden">
        <div class="panel">
          <h2>Settings</h2>
          <p class="help">Future features will be placed here (AI model control, user profiles, etc.)</p>
          <button class="btn danger" onclick="clearData()">Clear All Local Data (DANGER)</button>
        </div>
      </section>
    </main>
  </div>
</div>

<script src="app.js"></script>
<script src="fishbone.js"></script>

<script src="data/rca-data.js"></script> 

<script src="js/cases.js"></script>

<script src="js/rca.js"></script>

</body>
</html>
